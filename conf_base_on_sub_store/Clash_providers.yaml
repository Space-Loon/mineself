# æœ¬é…ç½®çš„èŠ‚ç‚¹ç­›é€‰æ˜¯æŒ‰ç…§è‡ªç”¨Sub-Storeç­›é€‰åçš„è®¢é˜…èŠ‚ç‚¹
# clashçš„Pæ ¸é‡‡ç”¨RE2æ­£åˆ™å¼•æ“ï¼Œä¸æ”¯æŒæ–­è¨€(?!),å…·ä½“å‚ç…§https://github.com/google/re2/wiki/Syntax
# ä»»ä½•é‡‡ç”¨æ­¤é…ç½®çš„äººï¼Œè¯·æ ¹æ®è‡ªå·±çš„éœ€æ±‚ï¼ŒæŒ‰ç…§æ³¨é‡Šä¿®æ”¹ã€åˆ é™¤æˆ–å¢åŠ 

port: 7890
socks-port: 7891
allow-lan: true
mode: Rule
log-level: info
external-controller: :9090
# --------------------------------------

# èŠ‚ç‚¹è®¢é˜…(è‹¥æœ‰å¤šä¸ªè®¢é˜…è¿æ¥ï¼Œåªéœ€è¦å¤åˆ¶ä¸€ç»„æ”¾åœ¨ä¸‹æ–¹ä¿®æ”¹è¯¥åç§°å’Œè·¯å¾„é‡Œçš„æ–‡ä»¶åç§°å³å¯)
proxy-providers:
 all:
   type: http #httpæ˜¯çº¿ä¸Šè®¢é˜…æ¨¡å¼fileæ˜¯æœ¬åœ°èŠ‚ç‚¹æ¨¡å¼
   path: ./profiles/proxies/all.yaml #çº¿ä¸Šè®¢é˜…å¯ä»¥ä¸ç”¨ç®¡ï¼Œæœ¬åœ°è®¢é˜…éœ€è¦å°†èŠ‚ç‚¹æ”¾åˆ°æ­¤è·¯å¾„(è·¯å¾„ä¸ºå­˜æ”¾é…ç½®æ–‡ä»¶çš„åœ°æ–¹)
   url: clashè®¢é˜…èŠ‚ç‚¹
   interval: 3600 #æ›´æ–°é—´éš”æ—¶é—´å•ä½:å°æ—¶
   health-check: #è¿é€šæ€§æµ‹è¯•
     enable: true #å¼€å¯æˆ–è€…å…³é—­true or false
     url: http://www.gstatic.com/generate_204 #æµ‹é€Ÿç½‘å€å¯ä»¥ä¸ç”¨æ”¹
     interval: 300 #æµ‹é€Ÿé—´éš”æ—¶é—´å•ä½:ç§’
  
# ç­–ç•¥ç»„/æ­£åˆ™ç­›é€‰èŠ‚ç‚¹
proxy-groups:
  - name: ğŸ‘† æ‰‹åŠ¨é€‰æ‹©
    type: select
    proxies:
      - DIRECT
    use: #å¼•å…¥proxy-provider
      - all

  - name: ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡æ•…éšœè½¬ç§»
    type: load-balance
    url: http://www.gstatic.com/generate_204
    interval: 3600 #æµ‹é€Ÿé—´éš” å•ä½:ç§’
    filter: '(â˜ï¸|ğŸŠ|ğŸª„|â˜•ï¸) æ–°åŠ å¡' #æ­£åˆ™ç­›é€‰èŠ‚ç‚¹
    use:
      - all
    strategy: consistent-hashing # or round-robin å‰è€…ä¸ºæ•£åˆ—åè€…ä¸ºè½®è¯¢,ä¸¤è€…å·®åˆ«è¯¦æƒ…æŸ¥çœ‹YouTubeä¸è‰¯æ—çš„è§†é¢‘
  
  - name: ğŸ² å›½å†…ç›´è¿
    type: select
    proxies:
      - DIRECT

  - name: ğŸ’¬ WhatsApp
    type: url-test
    url: http://www.gstatic.com/generate_204
    interval: 300 #æµ‹é€Ÿé—´éš” å•ä½:ç§’
    filter: 'ğŸ» æ–°åŠ å¡'
    use:
      - all

  - name: ğŸ¤– GPT
    type: select
    filter: 'ğŸª„ ç¾å›½'
    use:
      - all
  
  - name: ğŸ“ å¾®è½¯æœåŠ¡
    type: select
    proxies:
      - DIRECT

  - name: ğŸ“º å“”å“©å“”å“©
    type: select
    proxies:
      - DIRECT

  - name: ğŸ å¥ˆé£å½±è§†
    type: select
    filter: '(ğŸª„|ğŸŠ|â˜ï¸|â˜•ï¸) (é¦™æ¸¯|æ–°åŠ å¡|å°æ¹¾)'
    use:
      - all

  - name: ğŸ° è¿ªå£«å°¼å½±è§†
    type: select
    filter: '(ğŸª„|ğŸŠ|â˜ï¸|â˜•ï¸) (é¦™æ¸¯|æ–°åŠ å¡|å°æ¹¾)'
    use:
      - all
  
  - name: ğŸ“º æ²¹ç®¡
    type: url-test
    url: http://www.gstatic.com/generate_204
    filter: '(ğŸª„|ğŸŠ|â˜ï¸|â˜•ï¸) é¦™æ¸¯'
    use:
      - all
    interval: 300

  - name: ğŸ“” Notion
    type: select
    proxies:
      - DIRECT
    
  - name: ğŸ› Telegram
    type: select
    proxies:
      - ğŸ‘† æ‰‹åŠ¨é€‰æ‹©
      - ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡æ•…éšœè½¬ç§»
  
  - name: ğŸ“Ÿ Discord
    type: select
    use:
      - all
    filter: '(ğŸª„|ğŸŠ|â˜ï¸|â˜•ï¸) æ–°åŠ å¡'
  
  - name: ğŸ•¹ æ¸¸æˆå¹³å°
    type: select
    proxies:
      - DIRECT
      - ğŸ‘† æ‰‹åŠ¨é€‰æ‹©
  
  - name: ğŸ›ƒ æµ·å¤–æ±‡æ€»
    type: select
    proxies:
      - ğŸ‘† æ‰‹åŠ¨é€‰æ‹©
      - ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡æ•…éšœè½¬ç§»
  
  - name: ğŸ”š æ¼ç½‘ä¹‹é±¼
    type: select
    proxies:
      - ğŸ‘† æ‰‹åŠ¨é€‰æ‹©
      - ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡æ•…éšœè½¬ç§»

# è§„åˆ™è®¢é˜…
rule-providers:
  WhatsApp:
    behavior: classical # domain(ä»…åŸŸå), ipcidr(ä»…IP) or classical(å¸¸è§„å³æ··åˆåŸŸåå’ŒIPï¼Œå¸¸ç”¨è¿™ä¸ªæ¨¡å¼)
    type: http #å¯å¡«å†™httpåŠfileã€Œåœ¨çº¿æ–‡ä»¶å¡«å†™httpï¼Œæœ¬åœ°æ–‡ä»¶å¡«å†™fileã€
    url: "https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Whatsapp/Whatsapp.yaml"
    interval: 3600
    path: ./profiles/proxies/Whatsapp.yaml
  OpenAI:
    behavior: classical
    type: http
    url: "https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/OpenAI/OpenAI.yaml"
    interval: 3600
    path: ./profiles/proxies/OpenAI.yaml
  Bing:
    behavior: classical
    type: http
    url: "https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Bing/Bing.yaml"
    interval: 3600
    path: ./profiles/proxies/Bing.yaml
  Microsoft:
    behavior: classical
    type: http
    url: "https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Microsoft/Microsoft.yaml"
    interval: 3600
    path: ./profiles/proxies/Microsoft.yaml
  BiliBili:
    behavior: classical
    type: http
    url: "https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/BiliBili/BiliBili.yaml"
    interval: 3600
    path: ./profiles/proxies/BiliBili.yaml
  BiliBiliIntl:
    behavior: classical
    type: http
    url: "https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/BiliBiliIntl/BiliBiliIntl.yaml"
    interval: 3600
    path: ./profiles/proxies/BiliBiliIntl.yaml
  Netflix:
    behavior: classical
    type: http
    url: "https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Netflix/Netflix.yaml"
    interval: 3600
    path: ./profiles/proxies/Netflix.yaml
  Disney:
    behavior: classical
    type: http
    url: "https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Disney/Disney.yaml"
    interval: 3600
    path: ./profiles/proxies/Disney.yaml
  YouTube:
    behavior: classical
    type: http
    url: "https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/YouTube/YouTube.yaml"
    interval: 3600
    path: ./profiles/proxies/YouTube.yaml
  Telegram:
    behavior: classical
    type: http
    url: "https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Telegram/Telegram.yaml"
    interval: 3600
    path: ./profiles/proxies/Telegram.yaml
  Epic:
    behavior: classical
    type: http
    url: "https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Epic/Epic.yaml"
    interval: 3600
    path: ./profiles/proxies/Epic.yaml
  Steam:
    behavior: classical
    type: http
    url: "https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Steam/Steam.yaml"
    interval: 3600
    path: ./profiles/proxies/Steam.yaml
  Discord:
    behavior: classical
    type: http
    url: "https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Discord/Discord.yaml"
    interval: 3600
    path: ./profiles/proxies/Discord.yaml
  Notion:
    behavior: classical
    type: http
    url: "https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Notion/Notion.yaml"
    interval: 3600
    path: ./profiles/proxies/Notion.yaml
  Global_Classical:
    behavior: classical
    type: http
    url: "https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Global/Global_Classical.yaml"
    interval: 3600
    path: ./profiles/proxies/Global_Classical.yaml
  GlobalMedia:
    behavior: classical
    type: http
    url: "https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/GlobalMedia/GlobalMedia.yaml"
    interval: 3600
    path: ./profiles/proxies/GlobalMedia.yaml

# åˆ†æµè§„åˆ™
rules:
  - RULE-SET,WhatsApp,ğŸ’¬ WhatsApp,no-resolve
  - RULE-SET,OpenAI,ğŸ¤– GPT,no-resolve
  - RULE-SET,Bing,ğŸ¤– GPT,no-resolve
  - RULE-SET,Microsoft,ğŸ“ å¾®è½¯æœåŠ¡,no-resolve
  - RULE-SET,BiliBili,ğŸ“º å“”å“©å“”å“©,no-resolve
  - RULE-SET,BiliBiliIntl,ğŸ“º å“”å“©å“”å“©,no-resolve
  - RULE-SET,Netflix,ğŸ å¥ˆé£å½±è§†,no-resolve
  - RULE-SET,Disney,ğŸ° è¿ªå£«å°¼å½±è§†,no-resolve
  - RULE-SET,YouTube,ğŸ“º æ²¹ç®¡,no-resolve
  - RULE-SET,Telegram,ğŸ› Telegram,no-resolve
  - RULE-SET,Epic,ğŸ•¹ æ¸¸æˆå¹³å°,no-resolve
  - RULE-SET,Steam,ğŸ•¹ æ¸¸æˆå¹³å°,no-resolve
  - RULE-SET,Discord,ğŸ“Ÿ Discord,no-resolve
  - RULE-SET,Notion,ğŸ“” Notion,no-resolve
  - RULE-SET,Global_Classical,ğŸ›ƒ æµ·å¤–æ±‡æ€»,no-resolve
  - RULE-SET,GlobalMedia,ğŸ›ƒ æµ·å¤–æ±‡æ€»,no-resolve
  - GEOIP,CN,DIRECT
  - MATCH,ğŸ”š æ¼ç½‘ä¹‹é±¼
